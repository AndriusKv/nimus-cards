(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{146:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);a(56);var s=a(0),c=a.n(s),n=(a(146),a(1)),r=a(98),l=a(37);t.default=function(){const e=Object(n.g)(),t=Object(n.h)(),[a,i]=Object(s.useState)(null);return Object(s.useEffect)(()=>{Object(r.b)(t.params.id).then(e=>{if(e){const t=e.cards.filter(e=>e.level>1);e.learnedCardCount=t.length,e.memorizedCardCount=t.filter(e=>8===e.level).length,i(e)}else i({error:!0})})},[e.pathname]),a?a.error?c.a.createElement(l.a,null):c.a.createElement("div",{className:"deck-status"},c.a.createElement("div",{className:"deck-status-header"},c.a.createElement("h2",{className:"deck-status-title"},a.title),c.a.createElement("div",{className:"deck-status-progress"},"Learned ",a.learnedCardCount," out of ",a.cards.length," cards, ",a.memorizedCardCount," memorized"),c.a.createElement("div",{className:"deck-status-progress-bar-container"},c.a.createElement("div",{className:"deck-status-progress-bar",style:{"--width":a.learnedCardCount/a.cards.length*100+"%"}}),c.a.createElement("div",{className:"deck-status-progress-half-bar",style:{"--width":a.memorizedCardCount/a.cards.length*100+"%"}}))),c.a.createElement("ul",{className:"deck-status-items"},c.a.createElement("li",{className:"deck-status-item"},c.a.createElement("div",{className:"deck-status-item-column deck-status-items-header-item deck-status-item-column-1"},"Front"),c.a.createElement("div",{className:"deck-status-item-column deck-status-items-header-item deck-status-item-column-2"},"Back"),c.a.createElement("div",{className:"deck-status-item-column deck-status-items-header-item deck-status-item-column-3"},"Status")),a.cards.map((e,t)=>{var a,s;return c.a.createElement("li",{className:"deck-status-item",key:t},c.a.createElement("div",{className:"deck-status-item-column deck-status-item-column-1"},(null==(a=e.front.attachment)?void 0:a.description)||e.front.text),c.a.createElement("div",{className:"deck-status-item-column deck-status-item-column-2"},"text"===(s=e.back).type||"exact"===s.type?s.typeOptions.value:"multi"===s.type?s.typeOptions.options.find(({id:e})=>s.typeOptions.correctId===e).value:void 0),c.a.createElement("div",{className:"deck-status-item-column deck-status-item-column-3"},function(e){if(e.level){const t=e.nextReview-new Date;if(t<0)return"Ready to review";const a=Math.ceil(t/1e3/60),s=Math.floor(a/60),c=Math.floor(s/24);return c?`Review in ${c} day${c>1?"s":""}`:s?`Review in ${s} hour${s>1?"s":""}`:`Review in ${a} minute${a>1?"s":""}`}return"Ready to learn"}(e)))}))):null}},98:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return l}));const s=new(a(101).a)("nimus-cards");function c(){return s.decks.toArray().then(i).catch(e=>{console.log(e)})}function n(e){return s.decks.get(e)}function r(e){s.decks.put(e).catch(e=>{console.log(e)})}function l(e){s.decks.delete(e).catch(e=>{console.log(e)})}function i(e){return e.sort((e,t)=>{const a=new Date(e.createdAt||0),s=new Date(t.createdAt||0);return a<s?1:a>s?-1:0})}s.version(1).stores({decks:"id"})}}]);