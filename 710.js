(globalThis.webpackChunknimus_cards=globalThis.webpackChunknimus_cards||[]).push([[710],{5710:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(7294),c=s(5977),n=s(446),r=s(2291);const l=function(){const e=(0,c.TH)(),t=(0,c.$B)(),[s,l]=(0,a.useState)(null);return(0,a.useEffect)((()=>{(0,n.VC)(t.params.id).then((e=>{if(e){const t=e.cards.filter((e=>e.level>1));e.learnedCardCount=t.length,e.memorizedCardCount=t.filter((e=>8===e.level)).length,l(e)}else l({error:!0})}))}),[e.pathname]),s?s.error?a.createElement(r.Z,null):a.createElement("div",{className:"deck-status"},a.createElement("div",{className:"deck-status-header"},a.createElement("h2",{className:"deck-status-title"},s.title),a.createElement("div",{className:"deck-status-progress"},"Learned ",s.learnedCardCount," out of ",s.cards.length," cards, ",s.memorizedCardCount," memorized"),a.createElement("div",{className:"deck-status-progress-bar-container"},a.createElement("div",{className:"deck-status-progress-bar",style:{"--width":s.learnedCardCount/s.cards.length*100+"%"}}),a.createElement("div",{className:"deck-status-progress-half-bar",style:{"--width":s.memorizedCardCount/s.cards.length*100+"%"}}))),a.createElement("ul",{className:"deck-status-items"},a.createElement("li",{className:"deck-status-item"},a.createElement("div",{className:"deck-status-item-column deck-status-items-header-item deck-status-item-column-1"},"Front"),a.createElement("div",{className:"deck-status-item-column deck-status-items-header-item deck-status-item-column-2"},"Back"),a.createElement("div",{className:"deck-status-item-column deck-status-items-header-item deck-status-item-column-3"},"Status")),s.cards.map(((e,t)=>{return a.createElement("li",{className:"deck-status-item",key:t},a.createElement("div",{className:"deck-status-item-column deck-status-item-column-1"},e.front.attachment?.description||e.front.text),a.createElement("div",{className:"deck-status-item-column deck-status-item-column-2"},"text"===(s=e.back).type||"exact"===s.type?s.typeOptions.value:"multi"===s.type?s.typeOptions.options.find((({id:e})=>s.typeOptions.correctId===e)).value:void 0),a.createElement("div",{className:"deck-status-item-column deck-status-item-column-3"},function(e){if(e.level){const t=e.nextReview-Date.now();if(t<0)return"Ready to review";const s=Math.ceil(t/1e3/60),a=Math.floor(s/60),c=Math.floor(a/24);return c?`Review in ${c} day${c>1?"s":""}`:a?`Review in ${a} hour${a>1?"s":""}`:`Review in ${s} minute${s>1?"s":""}`}return"Ready to learn"}(e)));var s})))):null}},446:(e,t,s)=>{"use strict";s.d(t,{GT:()=>c,VC:()=>n,C2:()=>r,$P:()=>l});const a=new(s(9642).Z)("nimus-cards");function c(){return a.decks.toArray().then(d).catch((e=>{console.log(e)}))}function n(e){return a.decks.get(e)}function r(e){a.decks.put(e).catch((e=>{console.log(e)}))}function l(e){a.decks.delete(e).catch((e=>{console.log(e)}))}function d(e){return e.sort(((e,t)=>e.createdAt<t.createdAt?1:e.createdAt>t.createdAt?-1:0))}a.version(1).stores({decks:"id"})}}]);