(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{111:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return i}));const a=new(n(124).a)("nimus-cards");function c(){return a.decks.toArray().catch(e=>{console.log(e)})}function r(e){return a.decks.get(e)}function s(e){a.decks.put(e).catch(e=>{console.log(e)})}function i(e){a.decks.delete(e).catch(e=>{console.log(e)})}a.version(1).stores({decks:"id"})},118:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));n(133),n(104);function a(e){const t=[].concat(e);let n=t.length;for(;n;){const e=Math.floor(Math.random()*n);n-=1,[t[n],t[e]]=[t[e],t[n]]}return t}function c(){return Math.random().toString(32).slice(2,10)}},130:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r}));n(106);let a=JSON.parse(localStorage.getItem("nimus-cards-settings"))||{studyMode:{value:"standard"},randomize:{value:!0},cardCount:{value:""},timeoutDuration:{value:""}};function c(){return a}function r(e){a=Object.assign({},a,{},e),localStorage.setItem("nimus-cards-settings",JSON.stringify(a))}},149:function(e,t,n){"use strict";var a=n(56),c=n(150),r=n(57);a({target:"String",proto:!0,forced:!n(151)("includes")},{includes:function(e){return!!~String(r(this)).indexOf(c(e),arguments.length>1?arguments[1]:void 0)}})},150:function(e,t,n){var a=n(134);e.exports=function(e){if(a(e))throw TypeError("The method doesn't accept regular expressions");return e}},151:function(e,t,n){var a=n(6)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(e){}}return!1}},152:function(e,t,n){"use strict";var a=n(126),c=n(11),r=n(105),s=n(34),i=n(38),l=n(57),o=n(127),u=n(129),d=Math.max,m=Math.min,f=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g;a("replace",2,(function(e,t,n,a){var E=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,g=a.REPLACE_KEEPS_$0,p=E?"$":"$0";return[function(n,a){var c=l(this),r=null==n?void 0:n[e];return void 0!==r?r.call(n,c,a):t.call(String(c),n,a)},function(e,a){if(!E&&g||"string"==typeof a&&-1===a.indexOf(p)){var r=n(t,e,this,a);if(r.done)return r.value}var l=c(e),f=String(this),v="function"==typeof a;v||(a=String(a));var b=l.global;if(b){var h=l.unicode;l.lastIndex=0}for(var N=[];;){var k=u(l,f);if(null===k)break;if(N.push(k),!b)break;""===String(k[0])&&(l.lastIndex=o(f,s(l.lastIndex),h))}for(var S,x="",O=0,w=0;w<N.length;w++){k=N[w];for(var C=String(k[0]),$=d(m(i(k.index),f.length),0),L=[],R=1;R<k.length;R++)L.push(void 0===(S=k[R])?S:String(S));var j=k.groups;if(v){var I=[C].concat(L,$,f);void 0!==j&&I.push(j);var M=String(a.apply(void 0,I))}else M=y(C,f,$,L,j,a);$>=O&&(x+=f.slice(O,$)+M,O=$+C.length)}return x+f.slice(O)}];function y(e,n,a,c,s,i){var l=a+e.length,o=c.length,u=b;return void 0!==s&&(s=r(s),u=v),t.call(i,u,(function(t,r){var i;switch(r.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,a);case"'":return n.slice(l);case"<":i=s[r.slice(1,-1)];break;default:var u=+r;if(0===u)return t;if(u>o){var d=f(u/10);return 0===d?t:d<=o?void 0===c[d-1]?r.charAt(1):c[d-1]+r.charAt(1):t}i=c[u-1]}return void 0===i?"":i}))}}))},153:function(e,t,n){},155:function(e,t,n){"use strict";n.r(t);n(106),n(149),n(131),n(152),n(104);var a=n(0),c=n.n(a),r=n(118),s=n(111),i=n(130);function l({score:e,name:t}){const n={width:`${e.total?e[t]/e.total*100:50}%`};return c.a.createElement("div",{className:`score-bar score-${t}-bar`,style:n},e[t])}function o({score:e,mode:t}){return c.a.createElement("div",{className:"study-score"},"standard"===t?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"study-score-bar-name-container"},c.a.createElement("span",null,"Right"),c.a.createElement("span",null,"Wrong")),c.a.createElement("div",{className:"study-score-bar-container"},c.a.createElement(l,{score:e,name:"right"}),c.a.createElement(l,{score:e,name:"wrong"}))):c.a.createElement("div",{className:"study-score-table"},c.a.createElement("div",{className:"study-score-table-cell"},c.a.createElement("div",{className:"study-score-table-cell-name"},"Level"),c.a.createElement("div",null,"Cards")),e.levels.map((t,n)=>c.a.createElement("div",{className:`study-score-table-cell${e.currentLevel===n?" active":""}`,key:n},c.a.createElement("div",{className:"study-score-table-cell-name"},4===n?"Learned":n+1),c.a.createElement("div",null,t.length)))))}var u=n(7);function d({score:e,mode:t,notLastSession:n,initNextLevel:a,initNextSession:r}){const{session:s}=e;return c.a.createElement("div",{className:"deck-score-container"},c.a.createElement("h3",{className:"deck-score-title"},"Session Results"),c.a.createElement("div",{className:"deck-score-accuracy"},c.a.createElement("span",{className:"deck-score-accuracy-name"},"Accuracy"),c.a.createElement("span",{className:"deck-score-accuracy-value"},Math.round(s.right/s.total*100),"%")),c.a.createElement("div",{className:"deck-score-bars"},c.a.createElement("div",{className:"deck-score-bar-container"},c.a.createElement("span",{className:"deck-score-bar-name"},"Right"),c.a.createElement("div",{className:"deck-score-bar"},c.a.createElement(l,{score:s,name:"right"}))),c.a.createElement("div",{className:"deck-score-bar-container"},c.a.createElement("span",{className:"deck-score-bar-name"},"Wrong"),c.a.createElement("div",{className:"deck-score-bar"},c.a.createElement(l,{score:s,name:"wrong"})))),c.a.createElement("div",{className:"deck-score-btn-container"},e.isLast?n&&c.a.createElement("button",{className:"btn deck-score-btn",onClick:r},"Next Session"):c.a.createElement("button",{className:"btn deck-score-btn",onClick:a},"standard"===t?"Next Round":function(){let t=e.currentLevel+1;return e.wrong?t-=t>1?1:0:t+=1,`Continue to Level ${t}`}()),c.a.createElement(u.b,{to:"/decks",className:"btn"},"Close")))}n(135);function m({id:e,side:t}){const[n,r]=Object(a.useState)(null),[s,i]=Object(a.useState)(!1),{attachment:l,text:o,textSize:u}=t;function d(){i(!0)}return Object(a.useEffect)(()=>{if(l){const{file:e}=l;r("string"==typeof e?e:URL.createObjectURL(e))}},[e]),c.a.createElement(a.Fragment,null,l&&function(){const{type:e}=l;return"image"===e?c.a.createElement("img",{src:n,alt:"",className:"study-image",onClick:d}):"audio"===e?c.a.createElement("audio",{src:n,className:"study-audio",controls:!0}):null}(),o&&c.a.createElement("div",{className:"study-front-text",style:{fontSize:`${u}px`}},o),s&&c.a.createElement("div",{className:"mask",onClick:function(){i(!1)}},c.a.createElement("img",{src:n,className:"study-expaned-image",alt:""})))}var f=n(14);function v({card:e,selectOption:t,handleSubmit:n}){const{back:a,answerRevealed:r}=e,{type:s,typeOptions:i}=a;return"text"===s?c.a.createElement("div",{className:"study-card-text-content",style:{fontSize:`${i.textSize}px`}},i.value):"exact"===s?function(){let t="input study-exact-input";return r&&(t+=e.correct?" right":" wrong"),c.a.createElement("form",{onSubmit:n},c.a.createElement("label",null,c.a.createElement("div",{className:"study-exact-top"},c.a.createElement("div",{className:"study-exact-title"},"Your Answer:"),a.typeOptions.caseSensitive?c.a.createElement("div",{className:"study-exact-notice"},c.a.createElement(f.a,{name:"info",className:"study-exact-notice-icon"}),c.a.createElement("span",null,"Answer is case sensitive")):""),c.a.createElement("input",{type:"input",className:t,name:"answer",disabled:r})),c.a.createElement("button",{className:"btn study-exact-btn"},"Check Answer"))}():"multi"===s?function(){const e=` study-multi-${a.typeOptions.layout}-type`,n=`study-multi-${a.typeOptions.layout}-type-item`;return c.a.createElement("ul",{className:`study-multi${e}${r?" revealed":""}`},i.options.map(({id:e,value:a})=>c.a.createElement("li",{key:e},c.a.createElement("button",{className:`btn study-multi-item ${n}${r&&i.correctId===e?" correct":""}`,onClick:()=>t(e)},a))))}():null}function b({id:e,notes:t}){const[n,r]=Object(a.useState)(!1);return Object(a.useEffect)(()=>{r(!1)},[e]),t&&t.value?c.a.createElement("div",{className:"study-notes-container"},c.a.createElement("button",{className:"btn btn-text study-notes-toggle-btn",onClick:function(){r(!n)}},"Notes"),n&&c.a.createElement("div",{className:"study-card-content study-notes"},t.value)):null}function E({card:e,selectOption:t,handleSubmit:n,revealAnswer:a,nextStep:r}){return"text"!==e.back.type||e.answerRevealed?c.a.createElement("div",{className:`study-card study-card-${e.back.type}`},c.a.createElement(m,{id:e.id,side:e.front}),c.a.createElement(v,{card:e,selectOption:t,handleSubmit:n}),"text"===e.back.type&&e.answerRevealed&&!e.timerReveal&&c.a.createElement("div",{className:"study-card-text-btns"},c.a.createElement("button",{className:"btn btn-danger study-card-text-btn",disabled:e.finished,onClick:()=>r(!1)},"I Was Wrong"),c.a.createElement("button",{className:"btn btn-success study-card-text-btn",disabled:e.finished,onClick:()=>r(!0)},"I Got It Right")),c.a.createElement(b,{id:e.id,notes:e.notes})):c.a.createElement("div",{className:"study-card study-card-text"},c.a.createElement(m,{side:e.front}),c.a.createElement("button",{className:"btn study-card-text-btn study-card-text-reveal-btn",onClick:a},"Reveal"),c.a.createElement(b,{id:e.id,notes:e.notes}))}n(153);var g=function({id:e,revealed:t,initDuration:n,callback:r}){const[s,i]=Object(a.useState)(n),l=Object(a.useRef)(0);function o(e){e<1?r():l.current=setTimeout(()=>{const t=e-1;i(t),o(t)},1e3)}return Object(a.useRef)(s).current=s,Object(a.useEffect)(()=>()=>{clearTimeout(l.current)},[]),Object(a.useEffect)(()=>{clearTimeout(l.current),s===n?o(s):(i(n),o(n))},[e]),Object(a.useEffect)(()=>{t&&clearTimeout(l.current)},[t]),c.a.createElement("div",{className:"timer"},function(e){const t=function(e){const t=e%60;return t<10?`0${t}`:t}(e),n=function(e){const t=Math.floor(e/60%60);return e>=3600&&t<10?`0${t}`:t}(e),a=function(e){return Math.floor(e/3600)}(e);return`${a?`${a}:`:""}${n}:${t}`}(s))};function p(e,t){return Object.assign({},e,{},t)}function y(e){const[t,n]=Object(a.useReducer)(p,{cards:[],initialSessionCards:[]}),{cards:l,card:u,score:m,initialSessionCards:f}=t,v=Object(i.a)();function b(e){const t=h({currentLevel:0,session:h()});if("standard"===v.studyMode.value)t.incorrectIds=[];else{const n=e.map(e=>e.id);t.levels=[n,[],[],[],[]]}return t}function y(e,t=0){const n=e[t];return"multi"===n.back.type&&(n.back.typeOptions.options=Object(r.b)(n.back.typeOptions.options)),Object.assign({},n,{index:t,answerRevealed:!1,notes:Object.assign({},n.notes)})}function h(e={}){return Object.assign({},e,{right:0,wrong:0,total:0})}function N(e,t){e?t.right+=1:t.wrong+=1,t.total=t.right+t.wrong}function k(e){return N(e,m),N(e,m.session),"standard"===v.studyMode.value?function(e,t){return e||t.incorrectIds.push(u.id),t.isLast=t.right===t.total,t}(e,m):function(e,t){let n=t.currentLevel;if(e)n+=1;else{if(!n)return t;n-=1}const a=t.levels[t.currentLevel],c=a.findIndex(e=>e===u.id),[r]=a.splice(c,1);return t.levels[n].push(r),t.isLast=t.levels[4].length===f.length,t}(e,m)}function S(e,t){return e.filter(e=>t.includes(e.id))}function x(e){const t=v.randomize.value?Object(r.b)(e):e;n({score:h(m),card:y(t),cards:t,wasLastCard:!1})}function O(e,a={}){const c=u.index+1,r=c===l.length,s=k(e),i=Object.assign({},u,{},a,{correct:e,answerRevealed:!0,finished:!0});let o=null,{currentSession:d}=t;r?s.isLast&&(d+=1):o=y(l,c),n({card:i,score:s}),setTimeout(()=>{n({wasLastCard:r,currentSession:d,card:o})},1600)}return Object(a.useEffect)(()=>{Object(s.c)().then(t=>{const{id:a}=e.match.params,c=t.find(e=>e.id===a);c?function({title:e,cards:t}){const a=v.cardCount.value,c=v.randomize.value?Object(r.b)(t):t;let s=c,i=-1;a&&(i=Math.ceil(t.length/a),s=c.slice(0,a));n({currentSession:0,numberOfSessions:i,title:e,initialCards:c,initialSessionCards:s,cards:[...s],card:y(s),score:b(s)})}(c):e.history.replace("/decks")})},[]),l.length?c.a.createElement(a.Fragment,null,c.a.createElement("div",{className:"study-header"},c.a.createElement("div",{className:"study-progress",style:{transform:`scaleX(${u?u.index/l.length:1})`}}),c.a.createElement("h1",{className:"study-header-title"},t.title),!t.wasLastCard&&v.timeoutDuration.value>0&&c.a.createElement(g,{id:u.id,revealed:u.answerRevealed,initDuration:v.timeoutDuration.value,callback:function(){O(!1,{timerReveal:!0})}})),t.wasLastCard?c.a.createElement(d,{score:m,mode:v.studyMode.value,initNextLevel:function(){"standard"===v.studyMode.value?function(){const e=S(l,m.incorrectIds);m.currentLevel+=1,m.incorrectIds.length=0,x(e)}():function(){const{levels:e}=m,t=e.findIndex(e=>e.length),n=S(f,e[t]);m.currentLevel=t,x(n)}()},notLastSession:t.numberOfSessions-t.currentSession>0,initNextSession:function(){const e=v.cardCount.value,n=e*t.currentSession;x(t.initialCards.slice(n,n+e))}}):c.a.createElement(a.Fragment,null,c.a.createElement(o,{score:m,mode:v.studyMode.value}),c.a.createElement(E,{card:u,handleSubmit:function(e){if(e.preventDefault(),u.answerRevealed)return;const t=e.target.elements.answer.value;let n=!1;n=u.back.typeOptions.caseSensitive?t===u.back.typeOptions.value:t.toLowerCase()===u.back.typeOptions.value.toLowerCase(),O(n)},selectOption:function(e){u.answerRevealed||O(e===u.back.typeOptions.correctId)},revealAnswer:function(){u.answerRevealed=!0,n({card:u})},nextStep:O}))):null}n.d(t,"default",(function(){return y}))}}]);