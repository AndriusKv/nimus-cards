(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{102:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return o});const c=new(n(105).a)("nimus-cards-decks");function a(){return c.decks.toArray().catch(e=>{console.log(e)})}function i(e){c.decks.put(e).catch(e=>{console.log(e)})}function o(e){c.decks.delete(e).catch(e=>{console.log(e)})}c.version(1).stores({decks:"++_id"})},106:function(e,t,n){"use strict";var c=n(15),a=n(11),i=n(12),o=n(18).f,l=n(57),s=n(1).Symbol;if(c&&"function"==typeof s&&(!("description"in s.prototype)||void 0!==s().description)){var r={},d=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof d?new s(e):void 0===e?s():s(e);return""===e&&(r[t]=!0),t};l(d,s);var u=d.prototype=s.prototype;u.constructor=d;var m=u.toString,k="Symbol(test)"==String(s("test")),b=/^Symbol\((.*)\)[^)]+$/;o(u,"description",{configurable:!0,get:function(){var e=i(this)?this.valueOf():this,t=m.call(e);if(a(r,e))return"";var n=k?t.slice(7,-1):t.replace(b,"$1");return""===n?void 0:n}}),n(52)({global:!0,forced:!0},{Symbol:d})}},155:function(e,t,n){"use strict";n.r(t);n(60),n(101);var c=n(0),a=n.n(c),i=n(6),o=n(102);function l(e){let t=e.deckTitle,n=e.removeDeck,c=e.cancelRemoval;return a.a.createElement("div",{className:"mask"},a.a.createElement("div",{className:"modal deck-dialog-box"},a.a.createElement("h3",{className:"deck-dialog-box-title"},"Are you sure you want to remove ",a.a.createElement("b",null,t)," deck?"),a.a.createElement("div",{className:"deck-dialog-box-btns"},a.a.createElement("button",{className:"btn btn-danger",onClick:n},"Remove"),a.a.createElement("button",{className:"btn btn-text",onClick:c},"Cancel"))))}n(106);var s=n(13);function r(e){let t=e.deck,n=e.showDialog,c=e.editDeck;return a.a.createElement("li",{className:"deck"},a.a.createElement(i.b,{to:"/decks/"+t.id,className:"deck-title"},t.title),t.description&&a.a.createElement("p",{className:"deck-description"},t.description),a.a.createElement("div",{className:"deck-card-count"},t.cards.length," card",t.cards.length>1&&"s"),a.a.createElement("div",{className:"deck-btn-container"},a.a.createElement("button",{className:"btn btn-icon deck-btn",title:"Edit",onClick:function(){c(t)}},a.a.createElement(s.a,{name:"edit"}),a.a.createElement("span",null,"Edit")),a.a.createElement("button",{className:"btn btn-icon deck-btn",title:"Remove",onClick:function(){n(t)}},a.a.createElement(s.a,{name:"remove"}),a.a.createElement("span",null,"Remove"))))}function d(e){const t=Object(c.useState)([]),n=t[0],s=t[1],d=Object(c.useState)({visible:!1}),u=d[0],m=d[1],k=Object(c.useState)(!0),b=k[0],f=k[1];function v(e,t){return e.findIndex(e=>{return e.id===t})}function p(t){e.history.push({pathname:"/decks/"+t.id+"/edit",state:t})}function E(e){m({visible:!0,deck:e})}function h(){m({visible:!1,deck:null})}return Object(c.useEffect)(()=>{(async function(e){const t=await Object(o.b)();if(e){const n=v(t,e.id);-1===n?t.push(e):t.splice(n,1,e),Object(o.c)(e)}return t})(e.location.state).then(e=>{s(e),f(!1)})},[]),a.a.createElement(c.Fragment,null,a.a.createElement("div",{className:"component-header deck-list-header"},a.a.createElement("h1",{className:"deck-list-title"},"Your Decks"),a.a.createElement(i.b,{to:"/decks/create",className:"btn deck-list-btn"},"Create")),b?"":n.length?a.a.createElement("ul",null,function(e){return e.map(e=>a.a.createElement(r,{key:e.id,deck:e,showDialog:E,editDeck:p}))}(n)):a.a.createElement("h2",{className:"deck-list-message"},"You have no decks"),u.visible&&a.a.createElement(l,{deckTitle:u.deck.title,removeDeck:function(){const e=v(n,u.deck.id);n.splice(e,1),s([...n]),Object(o.a)(u.deck._id),h()},cancelRemoval:h}))}n.d(t,"default",function(){return d})}}]);