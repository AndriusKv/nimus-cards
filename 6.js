(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{123:function(e,t,n){"use strict";var a=n(124),r=n(38),c=n(54),s=n(60),i=n(52),l=n(50),o=n(128),u=n(129),d=Math.max,m=Math.min,f=Math.floor,v=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g;a("replace",2,(function(e,t,n,a){var E=a.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,b=a.REPLACE_KEEPS_$0,g=E?"$":"$0";return[function(n,a){var r=l(this),c=null==n?void 0:n[e];return void 0!==c?c.call(n,r,a):t.call(String(r),n,a)},function(e,a){if(!E&&b||"string"==typeof a&&-1===a.indexOf(g)){var c=n(t,e,this,a);if(c.done)return c.value}var l=r(e),f=String(this),v="function"==typeof a;v||(a=String(a));var p=l.global;if(p){var x=l.unicode;l.lastIndex=0}for(var h=[];;){var N=u(l,f);if(null===N)break;if(h.push(N),!p)break;""===String(N[0])&&(l.lastIndex=o(f,s(l.lastIndex),x))}for(var S,k="",R=0,O=0;O<h.length;O++){N=h[O];for(var w=String(N[0]),C=d(m(i(N.index),f.length),0),I=[],L=1;L<N.length;L++)I.push(void 0===(S=N[L])?S:String(S));var $=N.groups;if(v){var j=[w].concat(I,C,f);void 0!==$&&j.push($);var T=String(a.apply(void 0,j))}else T=y(w,f,C,I,$,a);C>=R&&(k+=f.slice(R,C)+T,R=C+w.length)}return k+f.slice(R)}];function y(e,n,a,r,s,i){var l=a+e.length,o=r.length,u=p;return void 0!==s&&(s=c(s),u=v),t.call(i,u,(function(t,c){var i;switch(c.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,a);case"'":return n.slice(l);case"<":i=s[c.slice(1,-1)];break;default:var u=+c;if(0===u)return t;if(u>o){var d=f(u/10);return 0===d?t:d<=o?void 0===r[d-1]?c.charAt(1):r[d-1]+c.charAt(1):t}i=r[u-1]}return void 0===i?"":i}))}}))},124:function(e,t,n){"use strict";n(125);var a=n(43),r=n(37),c=n(35),s=n(68),i=n(39),l=c("species"),o=!r((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u="$0"==="a".replace(/./,"$0"),d=c("replace"),m=!!/./[d]&&""===/./[d]("a","$0"),f=!r((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));e.exports=function(e,t,n,d){var v=c(e),p=!r((function(){var t={};return t[v]=function(){return 7},7!=""[e](t)})),E=p&&!r((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[v]=/./[v]),n.exec=function(){return t=!0,null},n[v](""),!t}));if(!p||!E||"replace"===e&&(!o||!u||m)||"split"===e&&!f){var b=/./[v],g=n(v,""[e],(function(e,t,n,a,r){return t.exec===s?p&&!r?{done:!0,value:b.call(t,n,a)}:{done:!0,value:e.call(n,t,a)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),y=g[0],x=g[1];a(String.prototype,e,y),a(RegExp.prototype,v,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}d&&i(RegExp.prototype[v],"sham",!0)}},125:function(e,t,n){"use strict";var a=n(53),r=n(68);a({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},126:function(e,t,n){"use strict";var a=n(38);e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},127:function(e,t,n){"use strict";var a=n(37);function r(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=a((function(){var e=r("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=a((function(){var e=r("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},128:function(e,t,n){"use strict";var a=n(66).charAt;e.exports=function(e,t,n){return t+(n?a(e,t).length:1)}},129:function(e,t,n){var a=n(56),r=n(68);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var c=n.call(e,t);if("object"!=typeof c)throw TypeError("RegExp exec method returned something other than an Object or null");return c}if("RegExp"!==a(e))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(e,t)}},130:function(e,t,n){},131:function(e,t,n){},143:function(e,t,n){"use strict";n.r(t);n(123),n(33);var a=n(0),r=n.n(a),c=(n(130),n(44)),s=n(48),i=n(69);function l({score:e,name:t}){const n={width:(e.total?e[t]/e.total*100:50)+"%"};return r.a.createElement("div",{className:`score-bar score-${t}-bar`,style:n},e[t])}function o({score:e,mode:t}){return r.a.createElement("div",{className:"study-score"},"standard"===t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"study-score-bar-name-container"},r.a.createElement("span",null,"Right"),r.a.createElement("span",null,"Wrong")),r.a.createElement("div",{className:"study-score-bar-container"},r.a.createElement(l,{score:e,name:"right"}),r.a.createElement(l,{score:e,name:"wrong"}))):r.a.createElement("div",{className:"study-score-table"},r.a.createElement("div",{className:"study-score-table-cell"},r.a.createElement("div",{className:"study-score-table-cell-name"},"Level"),r.a.createElement("div",null,"Cards")),e.levels.map((t,n)=>r.a.createElement("div",{className:"study-score-table-cell"+(e.currentLevel===n?" active":""),key:n},r.a.createElement("div",{className:"study-score-table-cell-name"},4===n?"Learned":n+1),r.a.createElement("div",null,t.length)))))}var u=n(5);function d({score:e,mode:t,notLastSession:n,initNextLevel:a,initNextSession:c}){const{session:s}=e;return r.a.createElement("div",{className:"deck-score-container"},r.a.createElement("h3",{className:"deck-score-title"},"Session Results"),r.a.createElement("div",{className:"deck-score-accuracy"},r.a.createElement("span",{className:"deck-score-accuracy-name"},"Accuracy"),r.a.createElement("span",{className:"deck-score-accuracy-value"},Math.round(s.right/s.total*100),"%")),r.a.createElement("div",{className:"deck-score-bars"},r.a.createElement("div",{className:"deck-score-bar-container"},r.a.createElement("span",{className:"deck-score-bar-name"},"Right"),r.a.createElement("div",{className:"deck-score-bar"},r.a.createElement(l,{score:s,name:"right"}))),r.a.createElement("div",{className:"deck-score-bar-container"},r.a.createElement("span",{className:"deck-score-bar-name"},"Wrong"),r.a.createElement("div",{className:"deck-score-bar"},r.a.createElement(l,{score:s,name:"wrong"})))),r.a.createElement("div",{className:"deck-score-btn-container"},e.isLast?n&&r.a.createElement("button",{className:"btn deck-score-btn",onClick:c},"Next Session"):r.a.createElement("button",{className:"btn deck-score-btn",onClick:a},"standard"===t?"Next Round":function(){let t=e.currentLevel+1;return e.wrong?t-=t>1?1:0:t+=1,"Continue to Level "+t}()),r.a.createElement(u.b,{to:"/decks",className:"btn"},"Close")))}n(89);function m({id:e,side:t}){const[n,c]=Object(a.useState)(null),[s,i]=Object(a.useState)(!1),{attachment:l,text:o,textSize:u}=t;function d(){i(!0)}return Object(a.useEffect)(()=>{if(l){const{file:e}=l;c("string"==typeof e?e:URL.createObjectURL(e))}},[e]),r.a.createElement(a.Fragment,null,l&&function(){const{type:e}=l;return"image"===e?r.a.createElement("img",{src:n,alt:"",className:"study-image",onClick:d}):"audio"===e?r.a.createElement("audio",{src:n,className:"study-audio",controls:!0}):null}(),o&&r.a.createElement("div",{className:"study-front-text",style:{fontSize:u+"px"}},o),s&&r.a.createElement("div",{className:"mask study-expaned-image-mask",onClick:function(){i(!1)}},r.a.createElement("img",{src:n,className:"study-expaned-image",alt:""})))}var f=n(8);function v({card:e,selectOption:t,handleSubmit:n}){const{back:a,answerRevealed:c}=e,{type:s,typeOptions:i}=a;return"text"===s?r.a.createElement("div",{className:"study-card-text-content",style:{fontSize:i.textSize+"px"}},i.value):"exact"===s?function(){let t="input study-exact-input";return c&&(t+=e.correct?" right":" wrong"),r.a.createElement("form",{onSubmit:n,className:"study-exact"},r.a.createElement("label",null,r.a.createElement("div",{className:"study-exact-top"},r.a.createElement("div",{className:"study-exact-title"},"Your Answer:"),a.typeOptions.caseSensitive?r.a.createElement("div",{className:"study-exact-notice"},r.a.createElement(f.a,{name:"info",className:"study-exact-notice-icon"}),r.a.createElement("span",null,"Answer is case sensitive")):""),r.a.createElement("input",{type:"input",className:t,name:"answer",disabled:c})),r.a.createElement("button",{className:"btn study-exact-btn"},"Check Answer"))}():"multi"===s?function(){const e=` study-multi-${a.typeOptions.layout}-type`,n=`study-multi-${a.typeOptions.layout}-type-item`;return r.a.createElement("ul",{className:`study-multi${e}${c?" revealed":""}`},i.options.map(({id:e,value:a})=>r.a.createElement("li",{key:e},r.a.createElement("button",{className:`btn study-multi-item ${n}${c&&i.correctId===e?" correct":""}`,onClick:()=>t(e)},a))))}():null}function p({id:e,notes:t}){const[n,c]=Object(a.useState)(!1);return Object(a.useEffect)(()=>{c(!1)},[e]),t&&t.value?r.a.createElement("div",{className:"study-notes-container"},r.a.createElement("button",{className:"btn btn-text study-notes-toggle-btn",onClick:function(){c(!n)}},"Notes"),n&&r.a.createElement("div",{className:"study-card-content study-notes"},t.value)):null}var E=function({card:e,selectOption:t,handleSubmit:n,revealAnswer:a,nextStep:c,skipNextStepTimeout:s}){return"text"!==e.back.type||e.answerRevealed?r.a.createElement("div",{className:"study-card study-card-"+e.back.type},r.a.createElement(m,{id:e.id,side:e.front}),r.a.createElement(v,{card:e,selectOption:t,handleSubmit:n}),"text"===e.back.type&&e.answerRevealed&&!e.timerReveal&&r.a.createElement("div",{className:"study-card-text-btns"},e.finished?r.a.createElement("button",{className:"btn study-card-text-btn",onClick:s},"Next"):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"btn btn-danger study-card-text-btn",disabled:e.finished,onClick:()=>c(!1)},"I Was Wrong"),r.a.createElement("button",{className:"btn btn-success study-card-text-btn",disabled:e.finished,onClick:()=>c(!0)},"I Got It Right"))),r.a.createElement(p,{id:e.id,notes:e.notes})):r.a.createElement("div",{className:"study-card study-card-text"},r.a.createElement(m,{side:e.front}),r.a.createElement("button",{className:"btn study-card-text-btn study-card-text-reveal-btn",onClick:a},"Reveal"),r.a.createElement(p,{id:e.id,notes:e.notes}))};n(131);var b=function({id:e,revealed:t,initDuration:n,callback:c}){const[s,i]=Object(a.useState)(n),l=Object(a.useRef)(0);function o(e){e<1?c():l.current=setTimeout(()=>{const t=e-1;i(t),o(t)},1e3)}return Object(a.useRef)(s).current=s,Object(a.useEffect)(()=>()=>{clearTimeout(l.current)},[]),Object(a.useEffect)(()=>{clearTimeout(l.current),s===n?o(s):(i(n),o(n))},[e]),Object(a.useEffect)(()=>{t&&clearTimeout(l.current)},[t]),r.a.createElement("div",{className:"timer"},function(e){const t=function(e){const t=e%60;return t<10?"0"+t:t}(e),n=function(e){const t=Math.floor(e/60%60);return e>=3600&&t<10?"0"+t:t}(e),a=function(e){return Math.floor(e/3600)}(e);return`${a?a+":":""}${n}:${t}`}(s))};function g(e,t){return{...e,...t}}t.default=function(e){const[t,n]=Object(a.useReducer)(g,{cards:[],initialSessionCards:[]}),l=Object(a.useRef)(0),{cards:u,card:m,score:f,initialSessionCards:v,studyMode:p}=t,y=Object(i.a)();function x(e,t){const n=N({currentLevel:0,session:N()});if("standard"===t)n.incorrectIds=[];else{const t=e.map(e=>e.id);n.levels=[t,[],[],[],[]]}return n}function h(e,t=0){const n=e[t];return"multi"===n.back.type&&(n.back.typeOptions.options=Object(c.b)(n.back.typeOptions.options)),{...n,index:t,answerRevealed:!1,notes:{...n.notes}}}function N(e={}){return{...e,right:0,wrong:0,total:0}}function S(e,t){e?t.right+=1:t.wrong+=1,t.total=t.right+t.wrong}function k(e){return S(e,f),S(e,f.session),"standard"===p?function(e,t){return e||t.incorrectIds.push(m.id),t.isLast=t.right===t.total,t}(e,f):function(e,t){let n=t.currentLevel;if(e)n+=1;else{if(!n)return t;n-=1}const a=t.levels[t.currentLevel],r=a.findIndex(e=>e===m.id),[c]=a.splice(r,1);return t.levels[n].push(c),t.isLast=t.levels[4].length===v.length,t}(e,f)}function R(e,t){return e.filter(e=>t.includes(e.id))}function O(e){const t=y.randomize.value?Object(c.b)(e):e;n({score:N(f),card:h(t),cards:t,wasLastCard:!1})}function w(e,t={}){const a=k(e),r={...m,...t,correct:e,answerRevealed:!0,finished:!0};n({card:r,score:a}),l.current=setTimeout(()=>{n(C(a.isLast))},1600)}function C(e){const n=m.index+1,a=n===u.length;let r=null,{currentSession:c}=t;return a?e&&(c+=1):r=h(u,n),{wasLastCard:a,currentSession:c,card:r}}return Object(a.useEffect)(()=>{Object(s.c)().then(t=>{const{id:a}=e.match.params,r=t.find(e=>e.id===a);r?function({title:e,cards:t,studyMode:a}){const r=y.cardCount.value,s=y.randomize.value?Object(c.b)(t):t;let i=s,l=-1;r&&(l=Math.ceil(t.length/r),i=s.slice(0,r));n({currentSession:0,numberOfSessions:l,title:e,studyMode:a,initialCards:s,initialSessionCards:i,cards:[...i],card:h(i),score:x(i,a)})}(r):e.history.replace("/decks")})},[]),u.length?r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"study-header"},r.a.createElement("div",{className:"study-progress",style:{transform:`scaleX(${m?m.index/u.length:1})`}}),r.a.createElement("h1",{className:"study-header-title"},t.title),!t.wasLastCard&&y.timeoutDuration.value>0&&r.a.createElement(b,{id:m.id,revealed:m.answerRevealed,initDuration:y.timeoutDuration.value,callback:function(){w(!1,{timerReveal:!0})}})),t.wasLastCard?r.a.createElement(d,{score:f,mode:p,initNextLevel:function(){"standard"===p?function(){const e=R(u,f.incorrectIds);f.currentLevel+=1,f.incorrectIds.length=0,O(e)}():function(){const{levels:e}=f,t=e.findIndex(e=>e.length),n=R(v,e[t]);f.currentLevel=t,O(n)}()},notLastSession:t.numberOfSessions-t.currentSession>0,initNextSession:function(){const e=y.cardCount.value,n=e*t.currentSession;O(t.initialCards.slice(n,n+e))}}):r.a.createElement(a.Fragment,null,r.a.createElement(o,{score:f,mode:p}),r.a.createElement(E,{card:m,handleSubmit:function(e){if(e.preventDefault(),m.answerRevealed)return;const t=e.target.elements.answer.value;let n=!1;n=m.back.typeOptions.caseSensitive?t===m.back.typeOptions.value:t.toLowerCase()===m.back.typeOptions.value.toLowerCase(),w(n)},selectOption:function(e){m.answerRevealed||w(e===m.back.typeOptions.correctId)},revealAnswer:function(){m.answerRevealed=!0,n({card:m})},skipNextStepTimeout:function(){clearTimeout(l.current),n(C(t.score.isLast))},nextStep:w}))):null}},44:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));n(33);function a(e){const t=[].concat(e);let n=t.length;for(;n;){const e=Math.floor(Math.random()*n);n-=1,[t[n],t[e]]=[t[e],t[n]]}return t}function r(){return Math.random().toString(32).slice(2,10)}},48:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return i}));const a=new(n(65).a)("nimus-cards");function r(){return a.decks.toArray().catch(e=>{console.log(e)})}function c(e){return a.decks.get(e)}function s(e){a.decks.put(e).catch(e=>{console.log(e)})}function i(e){a.decks.delete(e).catch(e=>{console.log(e)})}a.version(1).stores({decks:"id"})},68:function(e,t,n){"use strict";var a,r,c=n(126),s=n(127),i=RegExp.prototype.exec,l=String.prototype.replace,o=i,u=(a=/a/,r=/b*/g,i.call(a,"a"),i.call(r,"a"),0!==a.lastIndex||0!==r.lastIndex),d=s.UNSUPPORTED_Y||s.BROKEN_CARET,m=void 0!==/()??/.exec("")[1];(u||m||d)&&(o=function(e){var t,n,a,r,s=this,o=d&&s.sticky,f=c.call(s),v=s.source,p=0,E=e;return o&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),E=String(e).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==e[s.lastIndex-1])&&(v="(?: "+v+")",E=" "+E,p++),n=new RegExp("^(?:"+v+")",f)),m&&(n=new RegExp("^"+v+"$(?!\\s)",f)),u&&(t=s.lastIndex),a=i.call(o?n:s,E),o?a?(a.input=a.input.slice(p),a[0]=a[0].slice(p),a.index=s.lastIndex,s.lastIndex+=a[0].length):s.lastIndex=0:u&&a&&(s.lastIndex=s.global?a.index+a[0].length:t),m&&a&&a.length>1&&l.call(a[0],n,(function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(a[r]=void 0)})),a}),e.exports=o},69:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));let a=JSON.parse(localStorage.getItem("nimus-cards-settings"))||{randomize:{value:!0},cardCount:{value:""},timeoutDuration:{value:""}};function r(){return a}function c(e){a={...a,...e},localStorage.setItem("nimus-cards-settings",JSON.stringify(a))}}}]);